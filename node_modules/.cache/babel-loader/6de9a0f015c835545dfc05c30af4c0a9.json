{"ast":null,"code":"var _jsxFileName = \"/Users/spbiphones/Dropbox/projects/web projects/mood/src/pages/CreateNew.js\";\nimport React from 'react';\nimport { Textarea } from '@vkontakte/vkui';\nimport { PanelHeader, HorizontalScroll } from '@vkontakte/vkui';\nimport Navbar from '../panels/Navbar';\nimport place_16 from \"../resources/icons/place_16.svg\";\nimport cancel_20 from \"../resources/icons/cancel_20.svg\";\nimport dropdown_gray from \"../resources/icons/dropdown_gray.svg\";\nimport posting_access from \"../resources/icons/posting_access.svg\";\nimport posting_time from \"../resources/icons/posting_time.svg\";\nimport GrayBtnItem from './custom_views/GrayBtnItem';\nimport MoodPicker from './custom_views/MoodPicker';\n\nclass CreateNew extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      description: \"\",\n      isShowMoodPicker: false,\n      pickedMood: -1,\n      categoryPicked: undefined\n    };\n    this.descriptionChanged = this.descriptionChanged.bind(this);\n    this.onPublish = this.onPublish.bind(this);\n    this.toogleMoodPicker = this.toogleMoodPicker.bind(this);\n    this.onMoodChanged = this.onMoodChanged.bind(this);\n    this.onCategoryPicked = this.onCategoryPicked.bind(this);\n  }\n\n  descriptionChanged(event) {\n    if (event) {\n      var value = event.target.value;\n      this.setState({\n        description: value\n      });\n    }\n  }\n\n  onPublish() {\n    var post = this.props.post;\n    post.description = this.state.description;\n    post.mood = this.state.pickedMood;\n    this.props.setPost(post);\n    this.props.addNews(post);\n    this.props.changePage(\"news\");\n  }\n\n  toogleMoodPicker() {\n    this.setState({\n      isShowMoodPicker: !this.state.isShowMoodPicker\n    });\n  }\n\n  onMoodChanged(mood) {\n    this.setState({\n      pickedMood: mood\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"main_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(PanelHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      back: \"map\",\n      onBack: this.props.changePage,\n      title: \"\\u041C\\u0430\\u0442\\u0432\\u0435\\u0439\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"navbar_line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(Textarea, {\n      value: this.state.description,\n      onChange: this.descriptionChanged,\n      style: {\n        marginBottom: '16px'\n      },\n      placeholder: \"\\u0427\\u0442\\u043E \\u0443 \\u0432\\u0430\\u0441 \\u043D\\u043E\\u0432\\u043E\\u0433\\u043E?\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"navbar_line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"location_container just_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"location_icon\",\n      src: place_16,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"location_text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"\\u0443\\u043B\\u0438\\u0446\\u0430 \\u042F\\u0445\\u0442\\u0435\\u043D\\u043D\\u0430\\u044F, 37\")), React.createElement(\"img\", {\n      className: \"location_icon location_icon_close\",\n      src: cancel_20,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"bottom_button_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(HorizontalScroll, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: 'flex'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(GrayBtnItem, {\n      pickedMood: this.state.pickedMood,\n      toogleMoodPicker: this.toogleMoodPicker,\n      rightIcon: dropdown_gray,\n      title: \"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0435\\u043D\\u0438\\u0435\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(GrayBtnItem, {\n      pickedMood: -1,\n      rightIcon: dropdown_gray,\n      title: \"\\u0422\\u0435\\u043C\\u0430\\u0442\\u0438\\u043A\\u0430\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(GrayBtnItem, {\n      pickedMood: -1,\n      leftIcon: posting_access,\n      rightIcon: dropdown_gray,\n      title: \"\\u0412\\u0438\\u0434\\u043D\\u043E \\u0432\\u0441\\u0435\\u043C\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(GrayBtnItem, {\n      pickedMood: -1,\n      leftIcon: posting_time,\n      rightIcon: dropdown_gray,\n      title: \"\\u0421\\u0435\\u0439\\u0447\\u0430\\u0441\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"navbar_line top_12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: this.state.pickedMood != -1 && this.state.description != \"\" && this.state.description != undefined ? {} : {\n        opacity: '0.5',\n        pointerEvents: 'none'\n      },\n      onClick: this.onPublish,\n      className: \"large_vk_btn hover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"\\u041E\\u043F\\u0443\\u0431\\u043B\\u0438\\u043A\\u043E\\u0432\\u0430\\u0442\\u044C \\u0437\\u0430\\u043F\\u0438\\u0441\\u044C\")), this.state.isShowMoodPicker && React.createElement(MoodPicker, {\n      onMoodChanged: this.onMoodChanged,\n      toogleMoodPicker: this.toogleMoodPicker,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), this.state.isShowMoodPicker && React.createElement(CategoryPicked, {\n      onMoodChanged: this.onMoodChanged,\n      toogleMoodPicker: this.toogleMoodPicker,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default CreateNew;","map":{"version":3,"sources":["/Users/spbiphones/Dropbox/projects/web projects/mood/src/pages/CreateNew.js"],"names":["React","Textarea","PanelHeader","HorizontalScroll","Navbar","GrayBtnItem","MoodPicker","CreateNew","Component","constructor","props","state","description","isShowMoodPicker","pickedMood","categoryPicked","undefined","descriptionChanged","bind","onPublish","toogleMoodPicker","onMoodChanged","onCategoryPicked","event","value","target","setState","post","mood","setPost","addNews","changePage","render","marginBottom","place_16","cancel_20","display","dropdown_gray","posting_access","posting_time","opacity","pointerEvents"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Textarea } from '@vkontakte/vkui';\nimport { PanelHeader, HorizontalScroll } from '@vkontakte/vkui';\nimport Navbar from '../panels/Navbar';\nimport place_16 from '../resources/icons/place_16.svg'\nimport cancel_20 from '../resources/icons/cancel_20.svg'\nimport dropdown_gray from '../resources/icons/dropdown_gray.svg'\nimport posting_access from '../resources/icons/posting_access.svg'\nimport posting_time from '../resources/icons/posting_time.svg'\nimport GrayBtnItem from './custom_views/GrayBtnItem';\nimport MoodPicker from './custom_views/MoodPicker';\nclass CreateNew extends React.Component {\n   \n    constructor(props){\n        super(props)\n        this.state = {\n            description : \"\",\n            isShowMoodPicker : false,\n            pickedMood : -1,\n            categoryPicked : undefined\n        }\n        this.descriptionChanged = this.descriptionChanged.bind(this);\n        this.onPublish = this.onPublish.bind(this);\n        this.toogleMoodPicker = this.toogleMoodPicker.bind(this);\n        this.onMoodChanged = this.onMoodChanged.bind(this);\n        this.onCategoryPicked = this.onCategoryPicked.bind(this);\n    }\n   \n    descriptionChanged(event){\n        if (event){\n            var value = event.target.value\n            this.setState({description : value})\n        }\n    }\n    onPublish(){\n        var post = this.props.post\n        post.description = this.state.description\n        post.mood = this.state.pickedMood\n        this.props.setPost(post)\n        this.props.addNews(post)\n        this.props.changePage(\"news\")\n    }\n    toogleMoodPicker(){\n        this.setState({isShowMoodPicker : !this.state.isShowMoodPicker})\n    }\n    onMoodChanged(mood){\n        this.setState({pickedMood : mood})\n    }\n    render() {\n        return (\n            <div className=\"main_content\">\n                <PanelHeader>\n                    <Navbar back=\"map\" onBack={this.props.changePage} title=\"Матвей\"/>\n                </PanelHeader>\n                <div className=\"navbar_line\"/>\n                <Textarea value={this.state.description} onChange={this.descriptionChanged} style={{marginBottom : '16px'}} placeholder=\"Что у вас нового?\" />\n                <div className=\"navbar_line\"/>\n                <div className=\"location_container just_content\">\n                    <div className=\"flex\">\n                        <img className=\"location_icon\" src={place_16}/>\n                        <p className=\"location_text\">улица Яхтенная, 37</p>\n                    </div>\n                    <img className=\"location_icon location_icon_close\" src={cancel_20}/>\n                </div>\n                <div className=\"bottom_button_container\">\n                    <HorizontalScroll>\n                        <div style={{ display: 'flex'}}>\n                            <GrayBtnItem pickedMood={this.state.pickedMood} toogleMoodPicker={this.toogleMoodPicker} rightIcon={dropdown_gray} title=\"Настроение\"/>\n                            <GrayBtnItem pickedMood={-1} rightIcon={dropdown_gray} title=\"Тематика\"/>\n                            <GrayBtnItem pickedMood={-1} leftIcon={posting_access} rightIcon={dropdown_gray} title=\"Видно всем\"/>\n                            <GrayBtnItem pickedMood={-1} leftIcon={posting_time} rightIcon={dropdown_gray} title=\"Сейчас\"/>\n                            \n                        </div>\n                    </HorizontalScroll>\n                    <div className=\"navbar_line top_12\"/>\n                    <div style={(this.state.pickedMood != -1 && this.state.description != \"\" && this.state.description != undefined) ? {} : {opacity : '0.5', pointerEvents : 'none'}} onClick={this.onPublish} className=\"large_vk_btn hover\">Опубликовать запись</div>\n                </div>\n                {this.state.isShowMoodPicker && <MoodPicker onMoodChanged={this.onMoodChanged} toogleMoodPicker={this.toogleMoodPicker}/>}\n                {this.state.isShowMoodPicker && <CategoryPicked onMoodChanged={this.onMoodChanged} toogleMoodPicker={this.toogleMoodPicker}/>}\n            </div>\n        );\n    }\n}\nexport default CreateNew;"]},"metadata":{},"sourceType":"module"}